# Доступ к проекту-песочнице
Просто добавьте в переменные окружения ID проекта, логин и пароль. Проще всего воспользоваться приложенным скриптом **init_local.sh**, тогда значения сохранятся в переменных окружения до следующего рестарта Linux.
## Что нужно сделать
- Перейдите в каталог *cd keys*
- Разрешите выполнение скрипта *chmod +x init_local.sh*
- Выполните скрипт *source init_local.sh*
# SSH-ключи для работы в песочнице
## Как устроено
Шаблон написан таким образом, что в качестве ssh-ключа при создании инстансов виртуальных машин из кода Терраформ будет использоваться публичный ключ текущего пользователя **'~/.ssh/id_rsa.pub'**. Это удобно, когда вы начинаете писать код на вашем рабочем ПК - после создания виртуалки к ней можно подключиться с текущим ключом.  
При переносе проекта в облаке ничего менять не придётся - пайплайны так организованы, что ключи соответствующего проекта будут добавлены в переменные проекта автоматически, просто не меняйте путь по-умолчанию к открытому ключу **'~/.ssh/id_rsa.pub'**
## Что нужно сделать
- Ничего, всё заработает автоматически.
# Сертификат WinRM
## Как устроено
Для создания Windows-инстансов и затем подключения к ним из Asible требуется WinRM-сертификат.  
Для локальной разработки инфраструктурного кода в песочнице, **единоразово** (при первом использовании этого шаблона) запустите shell-скрипт **keys/generate_winrm_local.sh**, он создаст пару из открытой и закрытой части сертификата: '~/.winrm/winrm.der' и '~/.winrm/winrm.key'. Примеры в шаблоне уже написаны так, чтобы использовать эти ключи для создания инстансов.  
При переносе проекта в прод, Гитлаб автоматически добавит нужные ключи в аналогичный каталог раннера, ничего менять не нужно.
## Что нужно сделать
- Убедитесь, что вы ранее не создавали сертификат Winrm (в каталоге ~/.winrm/ нет winrm.*)
- Перейдите в каталог keys
- Разрешите выполнение скрипта *chmod +x ./generate_winrm_local.sh*
- Выполните скрипт *./generate_winrm_local.sh*
# Требования
Скрипт предназначен для работы в Linux.  
Требуется предустановленный OpenSSL.